---
layout: post
title: "分布式基础"
date: 2017-04-12
description: "分布式基础"
tag: 分布式
---   

### 1.对于Java分布式应用，通常有俩种典型的方式来实现。
        1.基于消息方式实现系统间的通信
            当系统之间需要通信的时，就向外发送消息，消息就可以是字节流，字节数组，甚至是Java对象，其他系统接收到消息后则进行相应的业务处理。
            消息方式的系统间通信，通常基于网络协议来实现，常用的实现系统间通信的协议有:TCP/IP和UDP/IP
            TCP/IP是一种可靠的网络数据传输的协议。TCP/TP要求通信双方首先建立连接，之后再进行数据的传输。TCP/IP负责保证传输的可靠性，包括数据的可达、数据到达的顺序等。但是由于TCP/IP需要保证连接以及数据传输的可靠，因此可能牺牲一些性能。
            UDP/IP是一种不保证数据一定到达的网络数据传输协议。UDP/IP并不直接给通信双方建立连接，而是发送到网络上进行传递。由于UDP/IP不建立连接，并且不能保证数据传输的可靠，因此性能上表现相对骄傲，但是可能出现数据丢失以及数据乱象的现象。
            TCP/IP 和 UDP可用于完成数据的传输，但是完成系统之间的通信，还需要对数据进行处理。例如：读和写入数据。同步IO和异步IO俩总，其中同步IO中最常见的是BIO和NIO
            NIO是基于事件驱动思想：实际上采用Reactor模式，从程序角度而言，当发起IO的读或者写操作的时,是非阻塞的;当Socket有流可读或可写入Socket时，操作系统会相应地通知应用程序进行处理,应用再将缓存区或写入操作系统。对于网络而言：主要有建立连接、流读取和流写入三种事儿。
     
        2.基于远程调用方式实现系统间的通信
            当系统间要通信时，可通过调用本地的一个Java接口的方法，透明地调用远程的Java实现。具体的细节则是由Java或者框架来完成的。这种方式在Java中主要来实现基于RMI和WebService的应用同步请求的超时可基于BlockingQueue、对象的wait/notify机制或Future机制来实现.
    
        UDP/IP方式的网络数据传输同样采用Socket机制，只是UDP/IP下的Socket没有建立连接的要求，由于UDP/IP是无连接的，因此无法进行双向通信。DatagramSocket和DatagramSocket来实现。